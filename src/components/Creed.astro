<section class="creed-wrap paused">
    <div class="container">
      <span class="creed-line">
        <span class="creed-prefix">I believe in</span>
        <span class="creed-word">Brotherhood</span>
        <span class="creed-ellipsis">...</span>
      </span>
    </div>
  </section>

  <style>
    .creed-wrap {
      padding: 3rem 1rem;
      background: linear-gradient(135deg, #212322, #3a3c3b);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30vh;
      position: relative;
      overflow: hidden;
    }

    @media (max-width: 768px) {
      .creed-wrap {
        padding: 2rem 0.5rem;
        min-height: 20vh;
      }
    }

    .container {
      max-width: 1200px;
      width: 100%;
      padding: 0 1rem;
    }

    .creed-line {
      display: flex;
      flex-wrap: nowrap;
      align-items: baseline;
      justify-content: center;
      gap: 0.5rem;
      font-family: 'Inter', sans-serif;
      text-align: center;
      white-space: nowrap;
    }

    .creed-prefix {
      font-size: clamp(1.2rem, 3.5vw, 3rem);
      font-weight: 300;
      color: #f4f7ff;
      letter-spacing: 0.05em;
    }

    .creed-word {
      font-size: clamp(1.5rem, 5vw, 4.5rem);
      font-weight: 900;
      background: linear-gradient(135deg, #ea7600, #f1d44b);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      min-width: 8ch;
      text-align: center;
      transition: filter 0.3s ease, text-shadow 0.3s ease;
      display: inline-block;
    }

    .creed-word.is-highlight {
      filter: brightness(1.2);
      text-shadow: 0 0 30px rgba(234, 118, 0, 0.6), 0 0 60px rgba(241, 212, 75, 0.4);
    }

    .creed-ellipsis {
      font-size: clamp(1.2rem, 3.5vw, 3rem);
      font-weight: 300;
      color: #f4f7ff;
      letter-spacing: 0.2em;
    }
  </style>

  <script>
    const words = ['Brotherhood', 'Service', 'Democracy'];
    const wordEl = document.querySelector('.creed-word') as HTMLElement;
    const section = document.querySelector('.creed-wrap');
    let currentIndex = 0;
    let interval: number | undefined;

    function cycleWord() {
      if (wordEl) {
        wordEl.classList.remove('is-highlight');
        wordEl.textContent = words[currentIndex];
        
        // Trigger highlight animation
        setTimeout(() => wordEl.classList.add('is-highlight'), 50);
        
        currentIndex = (currentIndex + 1) % words.length;
      }
    }

    function startCycle() {
      cycleWord();
      interval = window.setInterval(cycleWord, 2500);
    }

    function stopCycle() {
      if (interval) {
        clearInterval(interval);
        interval = undefined;
      }
    }

    // Intersection Observer to only animate when visible
    if (section) {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              section.classList.remove('paused');
              startCycle();
            } else {
              section.classList.add('paused');
              stopCycle();
            }
          });
        },
        { threshold: 0.3 }
      );
      observer.observe(section);
    }
  </script>
