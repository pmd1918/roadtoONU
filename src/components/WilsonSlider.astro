---
const images = [
  { src: '/images/wilson-factory/Exterior-of-Ada-football-factory-2024-1-1024x717.jpg', alt: 'Wilson Football Factory Exterior' },
  { src: '/images/wilson-factory/Inside-of-the-Wilson-Ada-factory-2024-1920x1080.jpg', alt: 'Inside the Wilson Factory' },
  { src: '/images/wilson-factory/Craftswoman-at-Ada-factory-1920x1080.jpg', alt: 'Craftswoman at Work' },
  { src: '/images/wilson-factory/Craftsmen-at-Ada-factory-1-1920x1080.jpg', alt: 'Craftsmen at Work' },
  { src: '/images/wilson-factory/Wilson-ball-in-the-making-1920x1080.jpg', alt: 'Football in the Making' },
  { src: '/images/wilson-factory/Ada-factory-lobby-1920x1080.jpg', alt: 'Factory Lobby' },
  { src: '/images/wilson-factory/Retail-pop-up-in-Ada-factory-1920x1080.jpg', alt: 'Retail Pop-up Shop' },
];
---

<section class="wilson-slider-section">
  <div class="slider-header">
    <h2 class="slider-heading">Wilson Football Factory</h2>
    <p class="slider-subheading">Tour the state-of-the-art facility in Ada, Ohio â€” just minutes from ONU</p>
  </div>
  
  <div class="slider-wrapper">
    <div class="slider-track" id="wilson-slider-track">
      {/* Original slides */}
      {images.map((image, index) => (
        <div class="slide" data-index={index}>
          <img src={image.src} alt={image.alt} loading="lazy" />
        </div>
      ))}
      {/* Duplicate first slide for seamless loop */}
      <div class="slide" data-index="0">
        <img src={images[0].src} alt={images[0].alt} loading="lazy" />
      </div>
    </div>
  </div>
</section>

<style>
  .wilson-slider-section {
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    padding: 4rem 0 0 0;
    overflow: hidden;
  }
  
  .slider-header {
    text-align: center;
    padding: 0 1rem 2rem 1rem;
  }
  
  .slider-heading {
    font-family: 'Have Heart', cursive;
    font-size: clamp(2.5rem, 6vw, 4rem);
    background: linear-gradient(135deg, #ea7600, #f1d44b);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
  }
  
  .slider-subheading {
    font-family: 'Inter', sans-serif;
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: #a0a0a0;
  }
  
  .slider-wrapper {
    width: 100%;
    overflow: hidden;
  }
  
  .slider-track {
    display: flex;
    transition: transform 0.8s ease-in-out;
  }
  
  .slider-track.no-transition {
    transition: none;
  }
  
  .slide {
    min-width: 100%;
    aspect-ratio: 16/9;
  }
  
  .slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>

<script>
  const track = document.getElementById('wilson-slider-track');
  const totalSlides = 7;
  let currentIndex = 0;
  
  function nextSlide() {
    currentIndex++;
    if (track) {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      
      // When we reach the duplicate slide, reset to the real first slide
      if (currentIndex === totalSlides) {
        setTimeout(() => {
          track.classList.add('no-transition');
          currentIndex = 0;
          track.style.transform = `translateX(0)`;
          // Force reflow
          track.offsetHeight;
          track.classList.remove('no-transition');
        }, 800); // Wait for transition to complete
      }
    }
  }
  
  // Auto-rotate every 4 seconds
  setInterval(nextSlide, 4000);
</script>
