---
const images = [
  { src: '/images/wilson-factory/Exterior-of-Ada-football-factory-2024-1-1024x717.jpg', alt: 'Wilson Football Factory Exterior' },
  { src: '/images/wilson-factory/Inside-of-the-Wilson-Ada-factory-2024-1920x1080.jpg', alt: 'Inside the Wilson Factory' },
  { src: '/images/wilson-factory/Craftswoman-at-Ada-factory-1920x1080.jpg', alt: 'Craftswoman at Work' },
  { src: '/images/wilson-factory/Craftsmen-at-Ada-factory-1-1920x1080.jpg', alt: 'Craftsmen at Work' },
  { src: '/images/wilson-factory/Wilson-ball-in-the-making-1920x1080.jpg', alt: 'Football in the Making' },
  { src: '/images/wilson-factory/Ada-factory-lobby-1920x1080.jpg', alt: 'Factory Lobby' },
  { src: '/images/wilson-factory/Retail-pop-up-in-Ada-factory-1920x1080.jpg', alt: 'Retail Pop-up Shop' },
];
---

<section class="wilson-slider-section">
  <div class="slider-wrapper">
    <div class="slider-overlay"></div>
    <div class="slider-content">
      <h2 class="slider-heading">Where the star of your favorite football moment is made</h2>
      <p class="slider-subheading">Wilson Football Factory â€” Ada, Ohio</p>
    </div>
    <div class="slider-track" id="wilson-slider-track">
      {/* Original slides */}
      {images.map((image, index) => (
        <div class="slide" data-index={index}>
          <img src={image.src} alt={image.alt} loading="lazy" />
        </div>
      ))}
      {/* Duplicate first slide for seamless loop */}
      <div class="slide" data-index="0">
        <img src={images[0].src} alt={images[0].alt} loading="lazy" />
      </div>
    </div>
  </div>
</section>

<style>
  .wilson-slider-section {
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    overflow: hidden;
  }
  
  .slider-wrapper {
    width: 100%;
    overflow: hidden;
    position: relative;
  }
  
  .slider-overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.25);
    z-index: 2;
    pointer-events: none;
  }
  
  .slider-content {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 3;
    text-align: center;
    padding: 1rem;
  }
  
  .slider-heading {
    font-family: 'Have Heart', cursive;
    font-size: clamp(2rem, 5vw, 4rem);
    color: #1a1a1a;
    text-shadow: 0 2px 10px rgba(255, 255, 255, 0.8);
    margin-bottom: 0.5rem;
    max-width: 800px;
    line-height: 1.2;
  }
  
  .slider-subheading {
    font-family: 'Inter', sans-serif;
    font-size: clamp(0.9rem, 2vw, 1.25rem);
    font-weight: 600;
    color: #333;
    text-shadow: 0 1px 5px rgba(255, 255, 255, 0.8);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }
  
  .slider-track {
    display: flex;
    transition: transform 0.8s ease-in-out;
  }
  
  .slider-track.no-transition {
    transition: none;
  }
  
  .slide {
    min-width: 100%;
    aspect-ratio: 21/9;
  }
  
  @media (max-width: 768px) {
    .slide {
      aspect-ratio: 16/9;
    }
  }
  
  .slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(2px);
  }
</style>

<script>
  const track = document.getElementById('wilson-slider-track');
  const totalSlides = 7;
  let currentIndex = 0;
  
  function nextSlide() {
    currentIndex++;
    if (track) {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      
      // When we reach the duplicate slide, reset to the real first slide
      if (currentIndex === totalSlides) {
        setTimeout(() => {
          track.classList.add('no-transition');
          currentIndex = 0;
          track.style.transform = `translateX(0)`;
          // Force reflow
          track.offsetHeight;
          track.classList.remove('no-transition');
        }, 800); // Wait for transition to complete
      }
    }
  }
  
  // Auto-rotate every 4 seconds
  setInterval(nextSlide, 4000);
</script>
